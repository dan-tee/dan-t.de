<% provide(:current_path, contact_path) %>

<div id="contact-frame">
    <h1>
        Contact me
    </h1>
    <p>
        If you have a project to discuss or a suggestion to
        make this site better, I'd be happy if you get in touch with me.
        Drop me a mail or use the contact form below. Feel free to contact me in german as well.
    </p>
    <p id="mail-label">
        <span>My mail address: </span><%= image_tag 'mail_address.png', id: 'mail-address' %>
    </p>

    <%= form_for @message, html: { class: 'form-horizontal well' } do |f| %>
        <% flash.each do |key, value| %>
            <%= content_tag(:div, value, class: "alert alert-#{key}") %>
        <% end %>

        <div class="form-group <%= 'has-error' if @message.errors.has_key?(:name) %>">
            <%= f.label :name, nil, class: 'col-sm-3 control-label' %>
            <div class="col-sm-9">
                <%= f.text_field :name, class: 'col-sm-9 form-control' %>
            </div>
        </div>
        <div class="form-group <%= 'has-error' if @message.errors.has_key?(:email) %>">
            <%= f.label :email, nil, class: 'col-sm-3 control-label' %>
            <div class="col-sm-9">
                <%= f.text_field :email, class: 'col-sm-9 form-control',
                                         placeholder: 'optional',
                                         onclick: ''%>
            </div>
            <span id="mail-disclaimer" class="help-block col-sm-9 col-sm-offset-3 small">
                Your mail address will not be displayed in public. If you dont't leave one,
                I might not be able to answer you.
            </span>
        </div>
        <div class="form-group <%= 'has-error' if @message.errors.has_key?(:message) %>">
            <%= f.label :message, nil, class: 'col-sm-3 control-label' %>
            <div class="col-sm-9">
                <%= f.text_area :message, class: 'col-sm-9 form-control' %>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-3 col-sm-9">
                <%= f.submit 'Send', class: 'btn btn-default' %>
            </div>
        </div>
    <% end %>
</div>